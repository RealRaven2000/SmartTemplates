---
layout: base.njk
title: Premium
permalink: premium.html
---
<!-- PREMIUM.HTML -->
<script type="text/javascript">
"use strict"; // use ECMAScript5 strict mode
  markActiveNavigation("premium.html");
  /* Apply this site specific file to <head> element */
  loadStyleSheet("premium.css?v=2");
  loadStyleSheet("syntax.css");
</script>

<style>
  /* inline html code */
  code.html {
    background-color: #f6f9f6;
    background-image: none !important;
    color: #001010;
    padding: 0px 6px !important;
    border-radius: 0;
  }
  pre.code { 
    background-color: #ffffff;
    color: #303030;
    font-family: Consolas, 'Courier New', Geneva, sans-serif;
    font-size: 10pt !important;
    padding: 1em;
    box-shadow: inset 4px 4px 10px #000000;
  }
</style>

<h2 class="page-header">SmartTemplates Pro :: Premium Features</h2>

<p>Premium features are power functions which are an incentive for users to regularly support 
  the SmartTemplates project through an annual contribution, called SmartTemplates Pro / SmartTemplates Standard license. 
  My aim is that instead of very few people trying to carry the project with sometimes large
  donations to try involving more supporters. It is a lot of work to keep the project 
  going and up to date with all the latest code changes which happen every four(!) weeks on the Mozilla code base.
  Staying in sync with the complex Thunderbird application and to support 
  multiple OS platforms (Windows, Linux and Mac) and 19 languages, 
  writing support emails and fixing bugs is actually a big amount of work. 
  I would rather actually spend more time on this than just burning away my weekends, but for this it 
  needs to be financially viable.
</p> 

<a name="featureList"> </a>
<h3 class="helpchapter">What Premium Features exist?</h3>
<p>Here is a list of Premium features that are unrestricted to licensed users.</p> 
<p>For non-licensed users, the premium features can be restricted and, when used, will show a notification bar
  in order to promote buying a license. I feel this is the best way as it gives you a chance to try them out and 
  get an idea on what other great future functionality will be funded by supporters:<p>


<a name="featureComparison"></a>
<h3>Feature Comparison</h3>
<table id="featureTbl">
  <tr>
    <th><b>Features</b></th>
    <th><b>Unlicensed version</b></th>
    <th><b>Standard License</b></th>
    <th><b>Pro License</b></th>
  </tr>
  
  <tr>
    <th>Max Number of external Templates</th>
    <td>5</td>
    <td>25</td>
    <td>unlimited</td>
  </tr>
  
  <tr>
    <th>Max Number of Template submenus</th>
    <td>3</td>
    <td>3</td>
    <td>unlimited</td>
  </tr>

  <tr>
    <th><a href="#snippets">Smart Snippets</a></th>
    <td>Test only</td>
    <td><span class="check">Some restrictions</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="variables.html" target="_blank">Standard Variables</a><br>
    this includes most standard headers, such as <code>%subject%</code> <code>%from%</code> <code>%to%</code> <code>%cc%</code></th>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
  </tr>

  <tr>
    <th><a href="variables.html#spellcheck" target="_blank">Set Spellcheck Language</a> <code>%spellcheck()%</code></th>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
  </tr>

  <tr>
    <th><a href="#dateManipulation">Date Formatting function</a> <code>%dateformat()%</code></th>
    <td><span class="check negative">✘</span> trial only</td>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="#clipboard">Clipboard support</a><br>
      using clipboard for transferring data.</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>

  <tr>
    <th><a href="#cardbook">CardBook support</a><br>
      using data from the CardBook address book.</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>

  <tr>
    <th><a href="#fileInsert">HTML File Injection from Template</a><code>%file()%</code></th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="#fileInsert">Style Sheet Injection from Template</a><code>%style()%</code></th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="variables.html#headerManipulation">Changing mail headers</a>
    <br>setting Cc, adding Fwd, modify subject etc.</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="variables.html#priority">Set Mail Priority</a> <code>%header.set(priority)%</code></th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="#stringManipulation">Text Manipulation</a><br><code>%deleteText%</code> <code>%replaceText%</code> <code>%matchTextFromBody%</code> <code>%matchTextFromSubject%</code></th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="#quoteManipulation">Quote Manipulation</a><br>Remove text, images etc. based on quote level.<br>
    Clean and shrink long reply threads.</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></th>
  </tr>
  
  <tr>
    <th><a href="#forwardedManipulation">Forwarded Mail Body</a><br>Remov contents of forwarded mail.</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></th>
  </tr>
  
  
  
  <tr>
    <th><a href="#dateManipulation">Date Calculation</a><br>Offsets for time / date</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>
  
  <tr>
    <th><a href="#filterForward">Automatic forwarding / replying with Filters</a><br>using FiltaQuilla 3.4</th>
    <td><span class="check negative">✘</span></td>
    <td><span class="check negative">✘</span></td>
    <td><span class="check">✔</span></td>
  </tr>
</table>
      
<!-- ##### HTML Snippets -->
<a name="snippets"> </a>
<h3 class="helpchapter">Insert Snippets in Composer</h3>
<article>
  <p>
    While writing emails, use the insert Snippet button to inject a section of html at the cursor position.
    In the Pro version of SmartTemplates this menu has no restrictions and can be subdivided in as many categories as you like:
    <br>
    <img class="screenshot" alt="" src="img/snippets-menu.png">
  </p>
  <p>
    SmartTempaltes Pro only: You can use the placeholder text <code class="html">*selection*</code> to insert 
    the currently highlighted text in the Email. This can be used to wrap / decorate text or build other
    HTML containers around information you have already inserted in the Email.
  </p>
</p>

<!-- ##### String Functions #### -->
<a name="stringManipulation"> </a>
<h3 class="helpchapter">String Manipulation</h3>
<article>
	<ul>
		<li><code>%deleteText("text")%</code> = Remove some text from the Quote Header, such as deleteText("via Paypal")- "John via Paypal wrote" =&gt; "John wrote"</li>
		<li><code>%replaceText("find","replace")%</code> = Replace some text with something else (similar to deleteText).</li>
    <li><code>%replaceText(<i>regularExpression</i>,<b>clipboard</b>)%</code> = (new in v3.12) overwrite placeholder text in template from clipboard</li>
		<li><code>%matchTextFromBody("Regular Expression",MatchGroup)%</code> = 
		    Finds a pattern in quoted Email and insert at function location.<br>
				E.g. <code class="inline">%matchTextFromBody("Delivery from ([-'a-zA-Z\u00C0-\u024F]*\s[-'a-zA-Z\u00C0-\u024F]*)",1)%</code> 
				will retrieve 'John Doe' from the line 'Delivery from John Doe' - (included unicode characters for diacritics)</li>
		<li><code>%matchTextFromSubject("Regular Expression",MatchGroup)%</code> = 
		    Finds a pattern in subject and insert at function location.<br>
				E.g. <code class="inline">%matchTextFromSubject("\b[a-zA-Z0-9._+-]+@[a-z0-9.-]+\.[a-z]{2,4}\b",0)%</code> 
				will retrieve an Email address from the Subject line</li>
	</ul>
	<p>Note: the new <code class="inline">%matchTextFromBody%</code> and <code class="inline">%matchTextFromSubject%</code> functions 
	   use <a href="https://en.wikipedia.org/wiki/Regular_expression" target="_blank">regular expressions</a> - these are powerful keys for finding text patterns.
		 The first parameter must be the regular expression within double quotes. The second parameter is a number which denotes the "match group". 
		 Match groups are usually designated with round parentheses (). Use 0 to match the complete expression, 1 for the first group etc.
	</p>
	<p>To learn about regular expressions, please visit: <a href="http://www.regular-expressions.info/quickstart.html" target="_blank">www.regular-expressions.info</a>.
	   For testing your patterns, I recommend this online tester: <a href="https://regex101.com/" target="_blank">regex101.com</a>
	</p>
	
</article>

<a name="quoteManipulation"> </a>
<h3 class="helpchapter">Quote Manipulation</h3>
<article>
  <p>
  <a href="https://github.com/RealRaven2000/SmartTemplates/issues/31">[issue 31]</a> 
      From SmartTemplates  2.8: New variables to remove text / tags from quoted parts 
      and save space.
  </p>
  <ul>
    <li>
      <p>
        <code>%deleteQuotedText("<i>searchText</i>",<i>quoteLevel</i>)%</code> 
          Deletes quoted Text <br>
        <code>%replaceQuotedText("<i>searchText</i>","<i>replacementHTML</i>",<i>quoteLevel</i>)%</code> 
          Replaces quoted text <br>
        <code>%replaceQuotedText(<i>regularExpression</i>,clipboard)%</code> 
          (new in v3.12) replace text patterns in the quoted part with clipboard contents.<br>
        <code>%deleteQuotedTags("<i>selector</i>",<i>quoteLevel</i>,<i>minSize</i>)%</code> 
          Deletes tags from the quote.<br>
        <code>%replaceQuotedTags("<i>selector</i>","<i>replacementHTML</i>",<i>quoteLevel</i>,<i>minSize</i>)%</code> 
          Deletes tags from the quote<br>
        <i>searchText</i> - must be in double quotes - the searchText argument must be a regular expression. 
        Note that whitespace can be best represented as \s because it can also contain line breaks. 
        Commas and double quote characters cannot be used.<br>
        <i>replacementHTML</i> - must be in double quotes - text or a html tag which will be inserted in page.
        <i>quoteLevel</i> - optional, (number) which minimal quote level to start from
        <br>
        <i>selector</i> -  what you would use to address the tag in css. simplest case "img", or "p" but attribute selectors 
        can be added as long as double quotes can be avoided.<br>
        <i>minSize</i> - (optional, numeric) - number of kByte, minimum size for removing the tag. This way you can 
        keep smaller images like icons / emojis while discarding large images.
      </p>
    </li>
  </ul>
  <p>
    A note on <i>quoteLevel</i>, for images I would recommend 2 if you want to 
    remove images to retain some context in your replies. This will dramatically decrease email 
    sizes in long threads which contain a lot of images (e.g. screenshots).
  </p>
  <p>
    Update - from version 3.11 of SmartTemplates the above commands can also be used to remove text from the 
    forwarded email (as long as it is forwarded inline). Use quoteLevel = 0 for this to work:
    <code>%deleteQuotedText("<i>searchText</i>",0)%</code>.
  </p>
</article>


<a name="forwardedManipulation"> </a>
<h3 class="helpchapter">Forwarded Mail</h3>
<article>
  <p>
    The command <code>%deleteForwardedBody%</code> removes the body of the original email when 
    forwarding inline. This feature can be used to first process information from automated 
    mails while removing the original information.
    <a href="https://github.com/RealRaven2000/SmartTemplates/issues/236">[issue 236]</a>
  </p>
</article>

<!-- ##### Header Functions #### -->
<a name="dateManipulation"> </a>
<h3 class="helpchapter">Advanced Date Functions</h3>
<article>
			<p>
			  <code class="deferable">%dateformat%</code> function for inserting / updating current time. 
				<a name="26588" href="https://www.mozdev.org/bugs/show_bug.cgi?id=26588" target="_blank">[Bug 26588]</a>
			</p>
			<p>
				The format variables are taken from the regular formats such as %Y% for 4-digit
				Years, with the % symbols stripped. Use as follows: <br>
				%dateformat(<i>formatString</i>)%
			</p>
			<p>
				Supported Formats:
				Y, y, n, m, e, d, k, H, l, I, M, S, tz_name, B, b, A, a, p1, p2, p
			</p>
			<p>
				Examples:<br>
				<code class="inline">%dateformat(A, e/n/Y, H:M)%</code> creates: Wednesday, 23/02/2018, 14:23
			</p>
      <br>
			<code>%X:=calculated()%</code> Switch for modifying date & time displayed. <a href="https://www.mozdev.org/bugs/show_bug.cgi?id=26307" target="_blank">[Bug 26307]</a>
			<p>
			<code>%X:=calculated(d,h:mm)%</code> where <i>d</i> = is the number of days to add. <i>h</i> = number of hours and <i>mm</i> number of minutes.
			Note this needs to be reset using
			<code>%X:=calculated(0)%</code> to reset it for the rest of the Email.
			</p>
      <p>
        Wrap the format strings in double quotes, and add the parameter <tt>toclipboard</tt> to force copying 
        the date to clipboard instead of inserting it into the email. Use the additional 
        parameter <tt>current</tt> to always enforce current time (without that, it will 
        interpret it as the timestamp of the replied to / forwarded original mail) - easier
        than having to insert the cumbersome <code class="inline">%x:=today%</code> at the start of the line.
        <br>
      </p>
        <pre class="code">
  %dateformat("A, e/n/Y H:M",toclipboard)%
  %dateformat("A, e/n/Y H:M",current,toclipboard)%</pre>

  
</article>

<!-- ##### Clipboard Support #### -->
<a name="clipboard"> </a>
<h3 class="helpchapter">Clipboard Support</h3>
<article>
  <h5>Insert Data from Clipboard</h5>
      <p>SmartTemplates Pro now supports using "clipboard" as argument for text and header manipulation functions:</p>
      <p>
        <b>header manipulation - examples</b>
        <ul>
          <li><code>%header.set(to,clipboard)%</code> - set the final recipient from the clipboard</li>
          <li><code>%header.append(to,clipboard)%</code> - add a recipient from clipboard</li>
          <li><code>%header.prefix(subject,clipboard)%</code> - add some subject prefix from clipboard</li>
        </ul>
      </p>
      <p>
        <b>Template text and Quote replacements</b>
        <ul>
          <li><code>%replaceText(regularExpression,clipboard)%</code> - overwrite placeholder text in template from clipboard</li>
          <li><code>%replaceQuotedText(regularExpression,clipboard)%</code> - replace text in the quoted part </li>
        </ul>
      </p>
  <h5>Copy Variable Results to Clipboard</h5>
      <p>
        <a href="https://github.com/RealRaven2000/SmartTemplates/issues/187">[issue 187]</a> 
        SmartTemplates Pro: Support transferring headers / variable results to clipboard
      </p>
      <p>
        Use the parameter <tt>toclipboard</tt> to transfer header contents such as email addresses to 
        the clipboard: <code>%from(mail,toclipboard)%</code>
      </p>
      <p>
        Use it when replying or forwarding messages to extract text from the original message
        body or subject to the clipboard, for example:
        <pre class="code">
  %matchTextFromBody("Please reply until (.*)",1,toclipboard)%
  %matchTextFromSubject("\[Support\] (.*)",1,toclipboard)%</pre>
      </p>
      <p>
        You can use it for copying the date with dateformat as well:
        Wrap the format strings in double quotes, and add the parameter <tt>toclipboard</tt> to force copying 
        the date to clipboard instead of inserting it into the email. Use the additional 
        parameter <tt>current</tt> to always enforce current time (without that, it will 
        interpret it as the timestamp of the replied to / forwarded original mail) - easier
        than having to insert the cumbersome <code class="inline">%x:=today%</code> at the start of the line.
        <br>
        Examples:
        <pre class="code">
  %dateformat("A, e/n/Y H:M",toclipboard)%
  %dateformat("A, e/n/Y H:M",current,toclipboard)%</pre>
      </p>
      <p>A valid SmartTemplates Pro License is required for this feature to work.</p>  
</article>

<!-- ##### CardBook #### -->
<a name="cardbook"> </a>
<h3 class="helpchapter">CardBook Support</h3>
<article>
  <p> 
    This uses data from the CardBook address book for all address fields.
    You need to install
    <a href=https://addons.thunderbird.net/en-US/thunderbird/addon/cardbook/versions/84.6>Cardbook 84.6</a> or higher to retrieve the addresses from it.
    Enable this feature on the advanced settings page:
  </p>
  <img class="screenshot" src="img/cardbook-enable.png" />
  <p>
    I also added platform switches to chatname, which select a specific
    chat name based on the what it is for, such as <code>%from(chatname.skype)%</code>
    You can find all currently supported switches on the variables page under
    the section 'Address Book Fields' and can be combined with all address-related
    variables such as <code class="inline">%to%</code>, <code class="inline">%from%</code>, <code class="inline"> %cc%</code>, <code class="inline">%recipient%</code> or <code class="inline">%identity%</code>.
  </p>
  <img class="screenshot" src="img/variables-ab-fields.png" />
</article>



<!-- ##### Header Functions #### -->
<a name="headerManipulation"> </a>
<h3 class="helpchapter">Mail Header Manipulation</h3>
<article>
	<ul>
		<li><code>%header.set(<i>hdr</i>,"text")%</code> = Set the header <i>hdr</i> (eg. to, from, subject) with the text.</li>
		<li><code>%header.set(subject,"text")%</code> = Replace complete subject with the text</li>
		<li><code>%header.set(to,<b>clipboard</b>)%</code> = (new in v3.12) set the final recipient from the clipboard.</li>
    
		<li><code>%header.prefix(subject,"text")%</code> = Prefix subject with the text</li>
		<li><code>%header.append(subject,"text")%</code> = Append text to subject</li>
		<li><code>%header.delete(subject,"text")%</code> = Delete text from subject</li>
	</ul>
	<p>
		The following functions are using Regular Expressions (search patterns) - these are for 
		advanced users only but can give you great rewards in automating emails. More info below.
	</p>
	<ul>
    <li><code>%header.set.matchFromSubject(<i>hdr,regex,group</i>)%</code> = Set the header if a matching regular expression is found in subject line.</li>
    <li><code>%header.append.matchFromSubject(<i>hdr,regex,group</i>)%</code> = Append text to header / recipient if a matching regular expression is found in subject line.</li>
    <li><code>%header.prefix.matchFromSubject(<i>hdr,regex,group</i>)%</code> = Prefix text to header if a matching regular expression is found in subject line.</li>
    <li><code>%header.set.matchFromBody(<i>hdr,regex,group</i>)%</code> = Set the header if a matching regular expression is found in quoted email.</li>
    <li><code>%header.append.matchFromBody(<i>hdr,regex,group</i>)%</code> = Append text to header / recipient if a matching regular expression is found in quoted email.</li>
    <li><code>%header.prefix.matchFromBody(<i>hdr,regex,group</i>)%</code> = Prefix text to header if a matching regular expression is found in quoted email.</li>
	</ul>
<p>
	The <i>hdr</i> parameter represents a mail header that has textual content, such as (to, from, subject). 
	This cannot be used for headers containing dates such as the sent time.
</p>
<p>
	The <i>regex</i> parameter is a search pattern in the form of a regular expression; 
	for more documentation, please check the site
	<a href="https://www.regular-expressions.info/.">Regular-expressions.info</a>.
	There is also a useful <a href="https://regex101.com/">regular expressions tester</a> 
	for trying out your search patterns. For best results, make sure to switch the "Flavor" 
	field to <i>ECMAScript (JavaScript)</i>.
</p>
<p>
	The <i>group</i> parameter is the number of the matched expression, for an explanation 
  <a href="https://www.regular-expressions.info/refcapture.html">see here.</a> 
	Usually setting this to 1 will do what is needed most of the time 
	(replaces first found expression with first match).
</p>
<p>	
<p> Additionally, you can now use the matchFromSubject and matchFromBody functions in the following way:</p>
<code>%header.set.matchFromBody(<i>hdr,regex</i>,"replacement text")%</code></p>
<p>
  The main difference is that match group is a number - which will insert / set / append 
  The matched text found during the search, whereas replacement text is a text that is used 
	instead if the search pattern is found. For usage simply add the double quotation marks around the 3rd parameter. 	
</p>	
	
</article>


	<h4>Examples</h4>
	<p>To learn about regular expressions, please visit: <a href="http://www.regular-expressions.info/quickstart.html" target="_blank">www.regular-expressions.info</a>.
	   For testing your patterns, I recommend this online tester: <a href="https://regex101.com/" target="_blank">regex101.com</a>
	</p>
<article>
	<ul>
		<li><code class="inline">%header.set(to,"abc@de.com")%</code> = Replace recipient with email address</li>
		<li><code class="inline">%header.append(to,"abc@de.com")%</code> = Add email to recipient list</li>
		<li><code class="inline">%header.set.matchFromSubject(to,"Donation from .* \((\b[a-zA-Z0-9._+-]+@[a-z0-9.-]+\.[a-z]{2,4}\b)\)",1)%</code><br>
		Looks for a pattern "Donation from <i>Name</i> (<i>email</i>)" and extracts email address to set the recipient (to) header.<br>
		.* is a group of any arbitrary character(s) in order to omit the Name portion of the email address<br>
		\(  and \)  match the parentheses,<br>
		\b means the result of the match group (...) starts at the beginning of the email address and ends before the closing parenthesis.<br>
		[a-zA-Z0-9._+-]+@[a-z0-9.-]+\.[a-z]{2,4} is a standard email matching expression. <br>
		1 - means the result from the first <a href="http://www.regular-expressions.info/brackets.html" target="_blank">match group</a> (...) is used for setting the header.
		</li>
	</ul>
</article>


<!-- ##### Header Functions #### -->
<a name="fileInsert"> </a>
<h3 class="helpchapter">Files and Images</h3>
<article>
	<ul>
    <li>
		  <code>%file(<i>filePath</i>,<i>encoding</i>)%</code> = Include HTML or plain text file. When omitting the <i>encoding</i> 
			parameter, SmartTemplates will assume <tt>UTF-8</tt>. If the file contains more SmartTemplates 
			variables such as <code class="inline">%from%</code>, these will be resolved.
		</li>
    <li>
		  <code>%file(<i>imagePath</i>,<i>altText</i>)%</code> = Inserts an image file (png,jpg,gif,bmp,svg). 
			The optional altText is displayed if the image can't be found.
		</li>
	</ul>
	<p>
		For the correct <i>file path</i> syntax, click the 
		<code>%file%</code> label in the Variables tab in the SmartTemplates settings window. 
		This will open a standard file prompt and then insert the correct code into the template.
	</p>
</article>

<!-- #### FiltaQuilla Support #### -->
<a name="filterForward"> </a>
<h3 class="helpchapter">Filter for automatic Forwarding / Replying</h3>
<article>
  <p>
    Auto-Forward / Auto-Replying Emails with smart template - this requires the <a href="https://addons.thunderbird.net/thunderbird/addon/filtaquilla/" target="_blank">Add-on FiltaQuilla</a>
    version 3.4 or later. 
  </p>
	<p>
    To enable this feature, you must first open FiltaQuilla settings on the Actions tab: <br>
    <img class="screenshot" alt="configure filtaquilla to work with SmartTemplates" src="img/filtaquilla-fwd-settings.png"><br>
    Next you can create new message filters, activate either Forward or Reply with Smart Template.
    Then create a new message filter from the tools menu; in action select "Forward with SmartTemplate" 
    and push the open file button to select an external template file:<br>
    <img class="screenshot" alt="adding forward action in a filter" src="img/forward-st-action-in-editor.png">
    
  </p>
  <p>
    When forwarding files, you can use <code>%header.set(to)%</code> and <code>%header.append(to)%</code> to populate
    the recipients (address book groups should also work) or <code>%header.set(bcc)%</code> for undisclosed recipients.
	</p>
  <p>
    The command <code>%suppressQuoteHeaders%</code> will now remove all quote headers - the ones inserted 
    by Thunderbird automatically and the ones that may be configured in SmartTemplates account settings.
    <br>
    You can also use <code>%sig(none)%</code> to suppress inserting any signatures.
  </p>
</article>



<!-- #### JavaScript Support #### -->
<a name="javascript"> </a>
<h3 class="helpchapter">Running "sandboxed" JavaScript</h3>
<article>
  <p>
    To do more flexible things with SmartTemplates a user (Benito van der Zanders) once 
    <a href="https://quickfolders.org/bugzilla/bugs/show_bug.cgi@id=25676">contributed a JavaScript
    feature</a> - this is able to run some user supplied script in order
    to insert SmartTemplates variables in a flexible manner. While I cannot guarantee
    that this is going to work forever, it has come in handy for some advanced users.
    You can currently use it as follows:
  </p>
  <p>
    Enable the Thunderbird config setting <span class="codeLine">extensions.smartTemplate4.allowScripts=true</span>.
    Then add a code section using the tags <code>&#37;{&#37;</code> and <code>&#37;}&#37;</code>.
    You need to define an anonymous function that can return a string. E.g.:
    <pre class="code">
(function() {
  /* your code here... */
  return "something";
}()</pre>
  </p>
  <p>
    You can use SmartTemplates variables (without the % signs) within code,
    they should be replaced within the function like a variable would in your HTML template.
  </p>
  <b>Example 1: load different template depending on who you reply</b>
<pre class="code">
&#37;{&#37;  
(function() {
  switch(from('mail')) {
    case "thunderbirddaily@gmail.com":
      return "&lt;p&gt;Special text for thunderbirddaily.&lt;/p&gt;"
        + "&lt;p&gt;Another paragraph!&lt;/p&gt;";
    case "axel@gmail.com":
      return file("W:\\User\\axel\\stationery\\QuickFolders - Links (English).html");
    default:
      return "&lt;p&gt;default case!&lt;/p&gt;";
  }
})()
&#37;}&#37;
</pre>
  <p>
    Here the keywords file and from('mail') are replaced in the script with the SmartTemplates
    variables <code>%file(path)%</code> and <code>%from(mail)%</code> and then resolved by SmartTemplates.
    Notes: backslashes in strings need to be escaped: "\\" <br>
    Keywords / unquoted parts within smartTemplate functions like <code class="inline">%from()%</code>, such as 
    <i>mail</i>, <i>firstname</i>, <i>toclipboard</i> etc. should be wrapped in single quotes 
    - otherwise the script parser will think they are undefined variables and return an error.
  </p>
  
  <b>Example 2: Greeting based on time of day</b>
<pre class="code">
&#37;{&#37; 
( () => {
var date = new Date();
if (date.getHours() &lt; 12) {return "Good morning";}
else { return "Good afternoon"; }
} )() &#37;}&#37;

</article>


<!-- ##### Export/Import added in 1.0.0 ####
<h3 class="helpchapter">Settings and Templates Export/Import</h3>
<p>You can export and import your settings and templates associated with each account.</p>
<br />
<br />
##### Export ####
<b>Export:</b>
<br />
<p>First select the account you want to export in the SmartTemplates settings dropdown box.</p>
<br />
<img class="screenshot" alt="" src="/screenshots/identity_select.png">
<br />
<p>Next select 'File' &#8658; 'Export' &#8658; 'Settings and Templates' from the menu bar and save the file (xxx.st4) to your computer.</p>
<br />
<img class="screenshot" alt="" src="/screenshots/export.png">
<br />
##### Import ####
<b>Import:</b>
<br />
<p>To import a file, select the account you want to import in the SmartTemplates settings dropdown box.<br>
Next, select 'File' &#8658; 'Import' &#8658; 'Settings and Templates' from the menu bar.</p>
<br />
<img class="screenshot" alt="" src="/screenshots/import.png">
<br />
<p>Select the SmartTemplates file (xxx.st4) you want to import.</p>
<p class="attention">NOTE: Apple/Macintosh platforms will have the menu bar in the title ribbon instead of the SmartTemplates Options window.<br>
This is normal behavior on this platforms and can't be changed.</p>
<br />
<br />-->

<!-- https://sites.fastspring.com/quickfolders/instant/smarttemplate4?referrer=st-premium-page -->

<h3 class="helpchapter">Other Benefits of having a Yearly License</h3>
	<p>
		You know that you support the project and that the development and support will be continue.
		There is a huge amount of work involved not just programming and keeping SmartTemplates up to date 
		but also supporting users, coming up with better ways of doing things, fixing bugs, and keeping 
		SmartTemplates usable across various platforms and host programs (at the moment I support Thunderbird, 
		SeaMonkey and Postbox). I am constantly helping people with using SmartTemplates and their mail program 
		and how to get the most out of email on the desktop.
	</p>
	<p>
		All notification messages that indicate premium features are omitted.
	</p>
	<p>
		The donation screen (which is normally shown after every Update) is hidden.
	</p>
<h3 class="helpchapter">Alternative Monetisation Models</h3>
	<p>
		There are quite a few software developers (and also some users) who believe
		that software should generally financed by advertisement or even by selling 
		information about their users. 
		I am firmly opposed to this way of making money as it impacts 
		both productivity and privacy rights; also in the world of Email I would 
		find this way of generating value deeply problematic - even if it was 
		strictly opt-in. There is a lot of personal information in our daily mail 
		and a lot of knowledge that is being stored and retrieved with this powerful 
		tool. 
	</p>
	<p>
		One of the reasons for a personal Email Client on the desktop 
		is the fact that we can store our data on our personal hardware and use it 
		any way we like. On the other hand, if we use a web mail client (like gmail) 
		we can never be sure whether the information is used otherwise and whether 
		we get targeted with distracting information (be it by injecting advertisements or via 
		targeted advertisement emails) - it is one of the goals of any mail desktop client 
		to eliminiate these distractions as much as possible, and focus on one thing only:
		managing communication.
	</p>
	<p>
		SmartTemplates is an especially powerful set of tools to harness this 
		information and it will evolve and keep saving time and make your experience 
		of mail more meaningful and intuitive.
	</p>

<!-- END PREMIUM.HTML -->
