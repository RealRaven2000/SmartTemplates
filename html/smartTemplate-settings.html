<!DOCTYPE html>
<html>
  <head>
    <meta charset="UTF-8">
    <!-- theme support -->
    
    <meta name="color-scheme" content="dark light">
    <link rel='stylesheet' type='text/css' href="chrome://global/skin/in-content/common.css">
    <link rel='stylesheet' type='text/css' href="chrome://messenger/skin/preferences/preferences.css">
    <link rel='stylesheet' type='text/css' href="chrome://messenger/skin/shared/themeableDialog.css">
    <link rel='stylesheet' type='text/css' href="../chrome/content/skin/common/license.css">
    <script type="application/javascript" src="../chrome/content/i18n.js"></script>
    <script type="application/javascript" src="smartTemplate-settings.js"></script>
<!--
   <script type="module" src="smartTemplate-settings.js"></script>
   -->   
    <script type="application/javascript" src="st-settings-util.js"></script>

    <!-- new rules for xul conversion -->
    <link rel="stylesheet" href="smarttemplate-settings.css">
    <link rel="stylesheet" href="html-compatibility.css">

    <!-- some thunderbird rules -->
    <link rel="stylesheet" href="st-layout.css">
    <link rel="stylesheet" href="st-common-shared.css">
    <link rel="stylesheet" href="st-common.css">

    <!-- our own rules -->
    <link rel="stylesheet" href="st-settings-layout.css">

    <!-- shared wth xhtml -->   
    <link rel='stylesheet' type='text/css' href="../chrome/content/skin/common/license.css">
    <title>__MSG_pref_dialog.title__</title>

  </head>
  <body>

<div id="preferences-stack" flex="1">

  <div class="hbox" id="prefBox" class="mainContent">
     <!-- new side menu -->
    <div class="vbox" id="pref-category-box">
      <ul class="prefs-menu" id="categories">
        <li class="category" id="catAccountTemplates" selected="true" page="smartTemplatePane">
          <label class="category-name">Account Templates</label>
        </li>
        <li class="category" id="catFileTemplates" page="fileTemplatePane">
          <label class="category-name">File Templates</label>
        </li>
        <li class="category" id="catSettingsGeneral" page="globalSettingsPane">
          <label class="category-name">__MSG_pref_global.tab__</label>
        </li>
        <li class="category" id="catSettingsAdvanced" page="advancedSettingsPane">
          <label class="category-name">__MSG_pref_advanced.tab__</label>
        </li>
        <li class="category" id="catVariables" page="variablesPane">
          <label class="category-name">__MSG_pref_variables.tab__</label>
        </li>
        <li class="category" id="catExamples" page="examplesPane">
          <label class="category-name">__MSG_pref_examples.tab__</label>
        </li>        
        <li class="category" id="catInfo" page="infoPane">
          <label class="category-name">__MSG_about.cap__</label>
        </li>
        <li class="category" id="catLicense" page="licensePane">
          <label class="category-name">___MSG_license-tab__</label>
        </li>
        <li class="category" id="catSupport" page="supportPane">
          <label class="category-name">__MSG_support.tab__</label>
        </li>        
      </ul>
      <div class="spacer" flex="1"></div>
    </div>

    <div class="vbox" id="preferencesContainer">

      <prefpane id="fileTemplatePane" class="page">
        <h2>File Templates</h2>
        <p>
          Tools:
          <div id="templateTools" class="inlineToolbar hbox" mode="icons" >  
            <span class="navigateable">
              <button id="btnYouTube2"
                class="iconButton youtube"
                title="__MSG_btnYouTube.tooltip__"
                alt="__MSG_btnYouTube.tooltip__"></button>          
              <button id="helpTemplates"
                class="iconButton"
                title="__MSG_tip.fileTemplates__"></button>
            </span>
          </div>
        </p>

        <div id="fileTemplatesBox" class="vbox">
          <div id="fileTemplatesTabs" class="tabbox" flex="1">
            <nav class="tabs actionTabs">
              <ul>
                <li><button id="file.newTab"      class="NewTab active">__MSG_pref_new.tab__</button></li>
                <li><button id="file.respondTab"  class="RespondTab" >__MSG_pref_rsp.tab__</button></li>
                <li><button id="file.forwardTab"  class="ForwardTab" >__MSG_pref_fwd.tab__</button></li>
                <li><button id="file.snippetsTab" class="SnippetsTab" >Smart Snippets</button></li>
              </ul>
            </nav>
            
            <div id="fileTemplateContainer" class="tabcontent-container" flex="1" orient="vertical">
              <section class="newGroup fileTemplatePanel vbox active" id="new-fileTemplates">
                <groupbox flex="1" orient="vertical" class="transparent">
                  <div flex="1" class="vfield vbox">
                    <label title="__MSG_fileTemplates.new.tooltip__">__MSG_fileTemplates.title__</label>
                    <select id="templateList.new" 
                      class="fileTemplateList" flex="1" size="12"> 
                    </select>
                    <!-- we will move this around to the active tab -->
                    <div id="fileControls" class="vbox">
                      <div id="fileToolbarPanel" class="hbox">
                        <toolbar id="fileTemplateToolbar"
                                class="templateList inlineToolbar"
                                mode="full"
                                customizable="false" >
                          <button id="btnAdd" class="iconButton">__MSG_fileTemplates.add__</button>
                          <button id="btnUpdate" class="iconButton">__MSG_fileTemplates.update__</button>
                          <button id="btnRemove" class="iconButton">__MSG_fileTemplates.remove__</button>
                          <span class="separator"></span>
                          <button id="btnUp" class="iconButton">__MSG_fileTemplates.up__</button>
                          <button id="btnDown" class="iconButton">__MSG_fileTemplates.down__</button>
                          <button id="btnEdit" class="iconButton">__MSG_fileTemplates.edit__</button>
                        </toolbar>						
                      </div>
                      <div id="fileSettings" >
                        <div>
                          <div class="settingsRow">
                            <label>__MSG_fileTemplates.file.path__</label>
                            <input type="text" id="txtTemplatePath">
                            <button id="btnPickTemplate" 
                              class="iconButton" 
                              tooltiptext="__MSG_fileTemplates.file.open__"></button>
                          </div>
                        </div>
                        <div>
                          <div class="settingsRow">
                            <label>__MSG_fileTemplates.file.title__</label>
                            <input
                              type="text"
                              id="txtTemplateTitle" 
                              title="__MSG_fileTemplates.file.title.tooltip__"
                              >
                            <label>__MSG_template.category__:</label>
                            <input
                              type="text"
                              id="txtTemplateCategory"
                              title="__MSG_template.category.tooltip__">
                            <button id="helpSnippets"
                              class="iconButton" label=""
                              tooltiptext="__MSG_template.category.tooltip__"
                              >
                          </div>
                        </div>
                      </div>
                    </div>
                  </div>
                </groupbox>
              </section>

              <!-- ######## Content [Reply] Tab ######## -->
              <section class="replyGroup fileTemplatePanel vbox" id="rsp-fileTemplates">
                <groupbox flex="1" class="transparent">
                  <div flex="1" class="vfield vbox">
                    <label title="__MSG_fileTemplates.rsp.tooltip__"> 
                          __MSG_fileTemplates.title__</label>
                    <select id="templateList.rsp" 
                      class="fileTemplateList" flex="1" size="12">
                    </select>
                  </div>
                </groupbox>
              </section>

              <!-- ######## Content [Forward] File Tab ######## -->
              <section class="forwardGroup fileTemplatePanel vbox" id="fwd-fileTemplates">
                <groupbox  flex="1" class="transparent">
                  <div flex="1" class="vfield vbox">
                    <label tooltiptext="__MSG_fileTemplates.fwd.tooltip__">__MSG_fileTemplates.title__</label>
                    <select id="templateList.fwd" 
                      class="fileTemplateList" flex="1" size="12">
                    </select>
                  </div>									
                </groupbox>
              </section>
              
              <!-- ######## Content [Snippets] File Tab ######## -->
              <section class="snippetsGroup fileTemplatePanel vbox" id="snippets-fileTemplates">
                <groupbox  flex="1" class="transparent">
                  <div class="groupbox-title hbox"><label class="header">__MSG_snippets.head__</label></div>
                  <div flex="1" class="vfield vbox">
                    <label>__MSG_snippets.label__</label>
                    <select id="templateList.snippets" 
                      class="fileTemplateList" flex="1" size="12">
                    </select>
                  </div>									
                </groupbox>
              </section>
                            
            </div>
            
            
          </div>
        </div>        
      </prefpane>

      <prefpane id="globalSettingsPane" class="page">
        <h2>General Settings</h2>
      </prefpane>

      <prefpane id="advancedSettingsPane" class="page">
        <h2>Advanced Settings</h2>
      </prefpane>

      <prefpane id="variablesPane" class="page">
        <h2>__MSG_pref_variables.tab__</h2>
        <iframe id="helpFrame"
        src="../chrome/content/help.xhtml"
        type="chrome"
        flex="1"
        minheight="300"
        class="vbox">
      </iframe>

      </prefpane>

      <prefpane id="examplesPane" class="page">
        <h2>Examples</h2>
      </prefpane>

      <prefpane id="infoPane" class="page">
        <h2>About SmartTemplates</h2>
      </prefpane>

      <prefpane id="licensePane" class="page">
        <h2>Licenses</h2>
      </prefpane>

      <prefpane id="supportPane" class="page">
        <h2>Support</h2>
      </prefpane>

      <prefpane id="smartTemplatePane" orient="vertical" flex="1" class="page pageActive">
        <h2>Account Templates</h2>
        <div id="decksContainer" flex="1" class="vbox">

          <!-- ######## Creating Identity Dropdown Box ######## --> 
          <div align="center" id="identityToolBar" class="hbox">
            
            <label id="identityLabel" class="hasConfigEvent">
              <button class="configSettings"></button>
              __MSG_pref_server_desc__:
            </label>
            <select id="msgIdentity"
              class="identity-menulist"
              label="__MSG_pref_server_def__"
              flex="1"
              tabindex="0">
              <option class="identity-popup-item" value="common">__MSG_pref_server_def__</option>
            </select>
            <div id="templateTools2" class="inlineToolbar hbox" mode="icons" >
              <span class="navigateable">
              <button id="btnSaveTemplate"
                    class="iconButton"
                    title="__MSG_btnSaveTemplate.tooltip__"
                    alt="__MSG_btnSaveTemplate.tooltip__"></button>
              <button id="btnLoadTemplate"
                    class="iconButton"
                    title="__MSG_btnLoadTemplate.tooltip__"
                    alt="__MSG_btnLoadTemplate.tooltip__"></button>
              <button id="btnYouTube"
                  class="iconButton youtube"
                  title="__MSG_btnYouTube.tooltip__"
                  alt="__MSG_btnYouTube.tooltip__"></button>
              <button id="btnAdvanced"
                    class="iconButton"
                    title="__MSG_advanced.label__"
                    alt="__MSG_advanced.label__"></button>
              <button id="btnCloseAdvanced"
                    class="iconButton"
                    title="__MSG_close.label__"
                    alt="__MSG_close.label__"
                    hidden="true"></button>
              </span>
            </div>
      
          </div>
      
          <div id="decksWrapper" flex="1" class="vbox">
            <deck id="account_deckA" flex="1" class="templateDeck">
      
              <div id="deckA.per_account" flex="1" class="accountDeck deck-selected vbox"> <!-- cloned element -->
                <!-- ######## Template Preferences ######## -->
      
                <preferences id="templates">
                  <preference name="extensions.smartTemplate4.common.def"       type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.new"       type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.rsp"       type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.fwd"       type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.newmsg"    type="unichar" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.rspmsg"    type="unichar" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.fwdmsg"    type="unichar" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.newhtml"   type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.rsphtml"   type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.fwdhtml"   type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.newnbr"    type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.rspnbr"    type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.fwdnbr"    type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.rspheader" type="unichar" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.fwdheader" type="unichar" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.rsphead"   type="bool" instantApply="true"></preference>
                  <preference name="extensions.smartTemplate4.common.fwdhead"   type="bool" instantApply="true"></preference>
                </preferences>
      
                <div align="center" class="hbox">
                  <label>
                    <input type="checkbox" id="use_default"
                    data-pref-name="extensions.smartTemplate4.common.def">
                    __MSG_pref_def.label__
                  </label>
                </div>
      
                <!-- ######## Default DeckB & Tab Creating ######## -->
                <deck id="default.deckB" flex="1" orient="vertical">
      
                  <div id="deckB.nodef" class="tabbox" flex="1" orient="vertical" selectedIndex="0" >
                    <nav  id="deckB.nodef.tabs"  class="tabs actionTabs">
                      <ul>
                        <li><button id="newTab"     class="NewTab active">__MSG_pref_new.tab__</button></li>
                        <li><button id="respondTab" class="RespondTab">__MSG_pref_rsp.tab__</button></li>
                        <li><button id="forwardTab" class="ForwardTab">__MSG_pref_fwd.tab__</button></li>
                      </ul>
                    </nav>
      
                    <div class="tabcontent-container" flex="1" orient="vertical">
                      <!-- ######## Content New Message [Write] Tab ######## -->
                      <section class="newGroup active vbox" orient="vertical" >
                          <div flex="1" class="vfield vbox">
                            <div class="hbox">
                              <label>
                                <input type="checkbox" id="new" class="settingDisabler"
                                  data-pref-name="extensions.smartTemplate4.common.new">__MSG_pref_new.label__
                              </label>
                            </div>
                            
                            <label>__MSG_pref_templateBox.label__</label>
                            <div class="indent vbox areaTemplateParent" flex="1">
                              <textarea id="newmsg" flex="1"
                                class="templateBox templateWrite"
                                multiline="true" tooltiptext="__MSG_pref_template_tip__"
                                data-pref-name="extensions.smartTemplate4.common.newmsg"
                                preference-editable="true"></textarea>
                              <label><input type="checkbox" id="newhtml" class="settingDisabler"
                                      title="__MSG_pref_html.cap__"
                                      data-pref-name="extensions.smartTemplate4.common.newhtml">
                                  __MSG_pref_html.label__
                              </label>
                              <label><input type="checkbox" id="newnbr"
                                  class="indent"
                                  title="__MSG_pref_rep_br.cap__"
                                  data-pref-name="extensions.smartTemplate4.common.newnbr">
                                  __MSG_pref_rep_br.label__
                                </label>
                            </div>
                          </vbox>
                        
                      </section>
      
                      <!-- ######## Content [Reply] Tab ######## -->
                      <section class="replyGroup vbox"  orient="vertical">
                        <div flex="1" class="vfield vbox">
                          <div class="hbox">
                            <label> <input type="checkbox" id="rsp" class="settingDisabler"
                                data-pref-name="extensions.smartTemplate4.common.rsp">
                                __MSG_pref_rsp.label__
                            </label>
                          </div>
                          <label>__MSG_pref_quoteHeaderBox.label__</label>
                          <div class="indent vbox" flex="1">
                            <div class="pasteFocus vbox areaQuoteParent" flex="1">
                              <textarea 
                                id="rspheader"
                                class="templateBox quote"
                                multiline="true"
                                flex="1"
                                tooltiptext="__MSG_pref_quoteHeaderBox_tip__"
                                data-pref-name="extensions.smartTemplate4.common.rspheader"
                                preference-editable="true"></textarea>
                            </div>
                            <label> <input type="checkbox" id="rsphead"
                              title="__MSG_pref_quotehead_tip__"
                              data-pref-name="extensions.smartTemplate4.common.rsphead">
                              __MSG_pref_rsphead.label__
                            </label>
                          </div>
                          <label>__MSG_pref_templateBox.label__</label>
                          <div class="indent vbox" flex="1">
                            <div class="pasteFocus vbox areaTemplateParent" flex="2">
                              <textarea 
                                id="rspmsg"
                                class="templateBox template"
                                multiline="true"
                                flex="1"
                                tooltiptext="__MSG_pref_templateBox_tip__"
                                data-pref-name="extensions.smartTemplate4.common.rspmsg"
                                preference-editable="true"></textarea>
                            </div>
                          </div>
                          <label><input type="checkbox" id="rsphtml" class="settingDisabler"
                            title="__MSG_pref_html.cap__"
                            data-pref-name="extensions.smartTemplate4.common.rsphtml">
                            __MSG_pref_html.label__
                          </label>
                          <label><input type="checkbox" id="rspnbr"
                            class="indent"
                            title="__MSG_pref_rep_br.cap__"
                            data-pref-name="extensions.smartTemplate4.common.rspnbr">
                            __MSG_pref_rep_br.label__
                          </label>
                        </vbox>
                      </section>
      
                      <!-- ######## Content [Forward] Message Tab ######## -->
                      <section class="forwardGroup vbox"  orient="vertical">
                        <div flex="1" class="vfield vbox">
                          <div class="hbox">
                            <label><input type="checkbox" id="fwd" class="settingDisabler"
                              data-pref-name="extensions.smartTemplate4.common.fwd">
                              __MSG_pref_fwd.label__
                            </label>
                          </div>
                          <label>__MSG_pref_quoteHeaderBox.label__</label>
                          <div class="indent vox" flex="1">
                            <div class="pasteFocus vbox areaQuoteParent" flex="1">
                                      <!-- rows="5" -->
                              <textarea 
                                id="fwdheader"
                                class="templateBox quote"
                                multiline="true"
                                flex="1"
                                tooltiptext="__MSG_pref_quoteHeaderBox_tip__"
                                data-pref-name="extensions.smartTemplate4.common.fwdheader"
                                preference-editable="true"></textarea>
                            </div>
                            <label><input type="checkbox" id="fwdhead"
                              title="__MSG_pref_quotehead_tip__"
                              data-pref-name="extensions.smartTemplate4.common.fwdhead">
                              __MSG_pref_fwdhead.label__
                            </label>
                          </div>
                          <label>__MSG_pref_templateBox.label__</label>
                          <div class="indent vbox" flex="1">
                            <div class="pasteFocus vbox areaTemplateParent" flex="2">
                                      <!-- rows="5" -->
                              <textarea id="fwdmsg"
                                class="templateBox template"
                                multiline="true"
                                flex="1"
                                tooltiptext="__MSG_pref_templateBox_tip__"
                                data-pref-name="extensions.smartTemplate4.common.fwdmsg"
                                preference-editable="true"></textarea>
                              </div>
                          </div>
                          <label><input type="checkbox" id="fwdhtml" class="settingDisabler"
                            title="__MSG_pref_html.cap__"
                            data-pref-name="extensions.smartTemplate4.common.fwdhtml">
                            __MSG_pref_html.label__
                          </label>

                          <label><input type="checkbox" id="fwdnbr"
                            class="indent"
                            title="__MSG_pref_rep_br.cap__"
                            data-pref-name="extensions.smartTemplate4.common.fwdnbr">
                            __MSG_pref_rep_br.label__
                          </label>
                        </div>
                      </section>
                    </div>

                    
                  </div>
      
                  <!-- ######## placeholder for hint: 'Use Common' to create a customized quote header for this account. ######## -->
                  <div id="deckB.usedef" class="vbox">
                    <description>__MSG_pref_def.cap__</description>
                  </div>
                  
                </deck>
              </div>
            
            </deck>
      
          </vbox>
      
        </div>

      </prefpane>




    </div>

  </div>

  <p class="disclaimer"><label>This window is still work in progress. It will <i>eventually</i> replace the existing 
    SmartTemplates settings dialog. <a target="_blank" href="https://github.com/RealRaven2000/SmartTemplates/issues/259">more...</a></label> <span id="closeDisclaimer" class="closeButton">x</span></p>   

</div>


  </body>

</html>